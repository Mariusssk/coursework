RewriteEngine On
RewriteBase /coursework/public/


#Index

RewriteCond %{THE_REQUEST} ^.*/index\.php [NC]
RewriteRule ^(.*)index.php$ $1 [R=301,L]
RewriteCond %{THE_REQUEST} ^.*/index\.html [NC]
RewriteRule ^(.*)index.html$ $1 [R=301,L] 

#-----------------------------------------

RewriteCond %{REQUEST_FILENAME} !-d
RewriteCond %{REQUEST_FILENAME} !-f

#User

RewriteRule ^login$ login_logout.php?request=login [QSA,NC,L]
RewriteRule ^logout$ login_logout.php?request=logout [QSA,NC,L]

#Storage

RewriteRule ^storage$ storage.php?request=overview [QSA,NC,L]
RewriteRule ^storage/new$ storage.php?request=new [QSA,NC,L]
RewriteRule ^storage/edit/([0-9-]+)$ storage.php?request=edit&ID=$1 [QSA,NC,L]

#-----------------------------------------

#Block

RewriteCond %{THE_REQUEST} ^.*/login_logout\.php [NC]
RewriteRule ^(.*)login_logout.php$ 404 [R=301,L]

#-----------------------------------------

#Error


ErrorDocument 404 /coursework/public/404.php




